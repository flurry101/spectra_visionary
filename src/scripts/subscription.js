document.addEventListener("DOMContentLoaded",function(){const n=document.querySelector(".subscribe-form"),t=n.querySelector('input[type="email"]'),e=n.querySelector(".subscribe-btn");function o(n,t="success"){const e=function(){const n=document.querySelector(".toast-notification");if(n)return n;const t=document.createElement("div");return t.classList.add("toast-notification"),document.body.appendChild(t),t}();e.textContent=n,e.className=`toast-notification ${t}`,e.style.display="block",setTimeout(()=>{e.style.display="none"},3e3)}n.addEventListener("submit",function(n){n.preventDefault();const i=t.value.trim();if(function(n){return/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(String(n).toLowerCase())}(i))try{e.disabled=!0,e.classList.add("loading"),function(n){let t=JSON.parse(localStorage.getItem("newsletterSubscriptions")||"[]");if(!t.includes(n))return t.push(n),localStorage.setItem("newsletterSubscriptions",JSON.stringify(t)),!0;o("You are already subscribed!","warning")}(i)&&(o("Thank you for subscribing!"),t.value="")}catch(n){o("Subscription failed. Please try again.","error"),console.error("Subscription error:",n)}finally{e.disabled=!1,e.classList.remove("loading")}else o("Please enter a valid email address.","error")});const i=document.createElement("style");i.textContent="\n        .toast-notification {\n            position: fixed;\n            top: 20px;\n            right: 20px;\n            padding: 15px;\n            background-color: #4CAF50;\n            color: white;\n            border-radius: 5px;\n            display: none;\n            z-index: 1000;\n            box-shadow: 0 4px 6px rgba(0,0,0,0.1);\n        }\n        .toast-notification.error {\n            background-color: #f44336;\n        }\n        .toast-notification.warning {\n            background-color: #ff9800;\n        }\n        .subscribe-btn.loading {\n            opacity: 0.5;\n            cursor: not-allowed;\n        }\n    ",document.head.appendChild(i)});