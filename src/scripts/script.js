function sendEmail(t){t.preventDefault();const e=document.getElementById("name").value,a=`mailto:visionary-spectacles@gmail.com?subject=Contact from ${e}&body=Name: ${e}%0AEmail: ${document.getElementById("email").value}%0AMessage: ${document.getElementById("message").value}`;window.location.href=a}gsap.registerPlugin(ScrollTrigger),window.addEventListener("load",()=>{setTimeout(()=>{document.querySelector(".loader").classList.add("fade-out")},1500)}),window.addEventListener("scroll",()=>{const t=document.querySelector("nav");window.scrollY>50?t.classList.add("scrolled"):t.classList.remove("scrolled")});let cartCount=0;function addToCart(t){cartCount++,document.querySelector(".cart-count").textContent=cartCount;const e=document.querySelector(".toast");e.classList.add("show"),setTimeout(()=>e.classList.remove("show"),3e3),t.style.transform="scale(0.95)",setTimeout(()=>t.style.transform="",200)}function redirectToShop(t){window.location.href="https://www.lenskart.com/eyeglasses.html"}gsap.from(".frame-item",{duration:.8,y:50,opacity:0,stagger:.2,scrollTrigger:{trigger:".frames-list",start:"top center"}}),document.getElementById("add-ons-form").addEventListener("submit",function(t){t.preventDefault();let e=0;document.querySelectorAll('input[type="checkbox"]:checked').forEach(t=>{e+=parseInt(t.value)}),alert("Total Price: ₹"+e)});const priceSlider=document.querySelector(".price-range input"),frames=document.querySelectorAll(".frame-item");priceSlider.addEventListener("input",function(){const t=this.value;document.querySelector(".price-range label").textContent=`Price Range: ₹500 - ₹${t}`,frames.forEach(e=>{const a=parseInt(e.querySelector("[data-price]").dataset.price);e.style.display=a<=t?"block":"none"})});const addOnCheckboxes=document.querySelectorAll('.add-on-card input[type="checkbox"]');addOnCheckboxes.forEach(t=>{t.addEventListener("change",function(){this.checked?addToCart({dataset:{price:this.value}}):(cartCount--,document.querySelector(".cart-count").textContent=cartCount)})});const filterOptions=document.querySelectorAll(".filter-option");filterOptions.forEach(t=>{t.addEventListener("click",function(){const t=this.textContent.toLowerCase();frames.forEach(e=>{"all"===t||e.dataset.category===t?gsap.to(e,{opacity:1,display:"block",duration:.3}):gsap.to(e,{opacity:0,display:"none",duration:.3})})})});const contactForm=document.getElementById("contact-form");contactForm&&contactForm.addEventListener("submit",function(t){t.preventDefault(),gsap.to(this,{scale:.98,duration:.2,yoyo:!0,repeat:1});const e=document.querySelector(".toast");e.textContent="Message sent successfully!",e.classList.add("show"),setTimeout(()=>{e.classList.remove("show"),this.reset()},3e3)});const cartPanel=document.querySelector(".cart-panel"),cartIcon=document.querySelector(".cart-icon"),closeCart=document.querySelector(".close-cart"),cartItems=document.querySelector(".cart-items"),totalAmount=document.querySelector(".total-amount");let cart=[];function addToCart(t){const e=t.closest(".frame-item"),a=e.querySelector("h3").textContent,n=parseInt(t.dataset.price),c=e.querySelector("img").src,o=cart.find(t=>t.title===a);o?(o.quantity++,updateCartDisplay()):cart.push({title:a,price:n,imgSrc:c,quantity:1}),document.querySelectorAll(".addon-card input:checked").forEach(t=>{const e=parseInt(t.value),a=t.closest(".addon-card").querySelector(".addon-title").textContent,n=cart.find(t=>t.title===a);n?n.quantity++:cart.push({title:a,price:e,imgSrc:"images\\icons\\favicon.ico",quantity:1})}),updateCartCount(),updateCartDisplay(),cartPanel.classList.add("open")}function updateCartCount(){const t=cart.reduce((t,e)=>t+e.quantity,0);document.querySelector(".cart-count").textContent=t}function updateCartDisplay(){cartItems.innerHTML=cart.map(t=>`\n                <div class="cart-item">\n                    <img src="${t.imgSrc}" alt="${t.title}">\n                    <div class="cart-item-details">\n                        <span class="cart-item-title">${t.title}</span>\n                        <span class="cart-item-price">₹${t.price}</span>\n                        <div class="quantity-controls">\n                            <button class="quantity-btn" onclick="updateQuantity('${t.title}', -1)">-</button>\n                            <span>${t.quantity}</span>\n                            <button class="quantity-btn" onclick="updateQuantity('${t.title}', 1)">+</button>\n                        </div>\n                    </div>\n                    <button class="remove-item" onclick="removeItem('${t.title}')">×</button>\n                </div>\n            `).join("");const t=cart.reduce((t,e)=>t+e.price*e.quantity,0);totalAmount.textContent=`₹${t}`}function updateQuantity(t,e){const a=cart.find(e=>e.title===t);a&&(a.quantity=Math.max(0,a.quantity+e),0===a.quantity?removeItem(t):(updateCartDisplay(),updateCartCount()))}function removeItem(t){cart=cart.filter(e=>e.title!==t),updateCartDisplay(),updateCartCount()}cartIcon.addEventListener("click",()=>{cartPanel.classList.add("open")}),closeCart.addEventListener("click",()=>{cartPanel.classList.remove("open")}),document.querySelector(".checkout-btn").addEventListener("click",()=>{0!==cart.length?alert("Proceeding to checkout..."):alert("Your cart is empty!")}),document.addEventListener("DOMContentLoaded",()=>{const t=document.querySelectorAll(".filter-btn"),e=document.querySelectorAll(".blog-post");t.forEach(a=>{a.addEventListener("click",()=>{t.forEach(t=>t.classList.remove("active")),a.classList.add("active");const n=a.dataset.category;e.forEach(t=>{"all"===n||t.dataset.category===n?t.style.display="block":t.style.display="none"})})})});