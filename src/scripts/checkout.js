document.addEventListener("DOMContentLoaded",()=>{const e=document.getElementById("checkout-items"),t=document.getElementById("checkout-add-ons"),n=document.getElementById("checkout-subtotal"),c=document.getElementById("checkout-addons-total"),o=document.getElementById("checkout-total");function d(){const d=function(){e.innerHTML="";let t=0;return cart.forEach(n=>{const c=document.createElement("div");c.classList.add("checkout-item"),c.innerHTML=`\n                <div class="item-details">\n                    <img src="${n.imgSrc}" alt="${n.title}" class="checkout-item-image">\n                    <span>${n.title}</span>\n                </div>\n                <div class="item-pricing">\n                    <span>₹${n.price} x ${n.quantity}</span>\n                    <span>₹${n.price*n.quantity}</span>\n                </div>\n            `,e.appendChild(c),t+=n.price*n.quantity}),n.textContent=`₹${t.toFixed(2)}`,t}()+function(){t.innerHTML="";let e=0;return document.querySelectorAll('.addon-card input[type="checkbox"]:checked').forEach(n=>{const c=parseInt(n.value),o=n.closest(".addon-card").querySelector(".addon-title").textContent,d=document.createElement("div");d.classList.add("checkout-item"),d.innerHTML=`\n                <span>${o}</span>\n                <span>₹${c.toFixed(2)}</span>\n            `,t.appendChild(d),e+=c}),c.textContent=`₹${e.toFixed(2)}`,e}();o.textContent=`₹${d.toFixed(2)}`}document.getElementById("checkout-shipping-form").addEventListener("submit",e=>{e.preventDefault();const t={firstName:document.getElementById("first-name").value,lastName:document.getElementById("last-name").value,email:document.getElementById("email").value,phone:document.getElementById("phone").value,address:document.getElementById("address").value,city:document.getElementById("city").value,postalCode:document.getElementById("postal-code").value,country:document.getElementById("country").value,paymentMethod:document.querySelector('input[name="payment"]:checked').value},d={items:cart,addOns:Array.from(document.querySelectorAll(".addon-card input:checked")).map(e=>({name:e.closest(".addon-card").querySelector(".addon-title").textContent,price:parseInt(e.value)})),subtotal:parseFloat(n.textContent.replace("₹","")),addOnsTotal:parseFloat(c.textContent.replace("₹","")),total:parseFloat(o.textContent.replace("₹",""))};console.log("Order Details:",d),console.log("Customer Details:",t),alert("Order placed successfully!"),cart.length=0;const a=document.querySelector(".cart-count");a&&(a.textContent="0"),document.querySelectorAll('.addon-card input[type="checkbox"]:checked').forEach(e=>{e.checked=!1}),window.location.href="index.html"}),d(),document.querySelectorAll('.addon-card input[type="checkbox"]').forEach(e=>{e.addEventListener("change",d)})});